<div class="modal fade" id="registerDogModal" tabindex="-1" role="dialog" aria-labelledby="registerDogModalLabel" aria-hidden="true"
    data-backdrop="static" data-keyboard="false">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Register a dog</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="progress">
                    <div class="progress-bar progress-bar-striped progress-bar-animated bg-success" role="progressbar" aria-valuenow="0" aria-valuemin="0"
                        aria-valuemax="100" style="width: 0%"></div>
                </div>

                <form id="dog_form" action="/dog/registration" method="POST" enctype="multipart/form-data">
                    <div id="form_1">
                        <div class="form-group">
                            <label for="InputName">Name</label>
                            <input type="text" name="dog_name" id="dog_name" class="form-control" placeholder="Name of your dog" required>
                        </div>
                        <div class="form-group">
                            <label for="InputBreed">Breed</label>
                            <input type="text" name="dog_breed" id="dog_breed" class="form-control" placeholder="breed of your dog" required>
                        </div>
                        <div class="form-group">
                            <label for="InputSex">Sex</label>
                            <select type="age" name="dog_sex" id="dog_sex" class="form-control" required>
                                <option></option>
                                <option>M</option>
                                <option>F</option>
                            </select>
                        </div>
                        <button id="next_1" class="button btn btn-primary" type="button">Next</button>
                    </div>

                    <div id="form_2" class="hide">
                        <div class="form-group">
                            <label for="InputAge">Age</label>
                            <select type="age" name="dog_age" id="dog_age" class="form-control" required>
                                <option></option>
                                <option>1</option>
                                <option>2</option>
                                <option>3</option>
                                <option>4</option>
                                <option>5</option>
                                <option>6</option>
                                <option>7</option>
                                <option>8</option>
                                <option>9</option>
                                <option>10</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="InputSize">Size</label>
                            <select type="age" name="dog_size" id="dog_size" class="form-control" required>
                                <option></option>
                                <option>S</option>
                                <option>M</option>
                                <option>L</option>
                            </select>
                        </div>
                        <button id="back2_1" class="button btn btn-primary" type="button">Back</button>
                        <button id="next_2" class="button btn btn-primary" type="button">Next</button>
                    </div>

                    <div id="form_3" class="hide">
                        <div class="form-group">
                            <label for="UploadDes">Description</label>
                            <input type="text" name="dog_des" id="dog_des" class="form-control" placeholder="say something about your puppy">
                        </div>
                        <div class="form-group">
                            <label for="UploadPhoto">Upload photos</label>
                            <input id="dog_photos" name="dog_photos" type="file" accept="image/*">
                        </div>
                        <button type="submit" id="submit_dog" class=" button btn btn-primary">Submit</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<script>
    var $dog_name = $('#dog_name');
    var $dog_breed = $('#dog_breed');
    var $dog_sex = $('#dog_sex');
    var $dog_age = $('#dog_age');
    var $dog_size = $('#dog_size');
    var data = $('#dog_form');


    $(document).ready(function () {

        $('#next_1').click(() => {
            $('.progress-bar').attr({
                "aria-valuenow": 33.33,
                "style": "width: 33.33%"
            })
            $('#form_1').addClass('hide')
            $('#form_2').removeClass('hide')
        })

        $('#next_2').click(() => {
            $('.progress-bar').attr({
                "aria-valuenow": 66.66,
                "style": "width: 66.66%"
            })
            $('#form_2').addClass('hide')
            $('#form_3').removeClass('hide')
        })

        $('#dog_photos').on('change', () => {
            $('.progress-bar').attr({
                "aria-valuenow": 100,
                "style": "width: 100%"
            })
        })

        //$('dog_submit').on('click', function() {

        $('#dog_form').submit(function (event) {
            //console.log(FormData(this))
            event.preventDefault();

            // let dog_form = $(this).serialize()
            var formdata = {
                'name': $dog_name.val(),
                'breed': $dog_breed.val(),
                'sex': $dog_sex.val(),
                'age': $dog_age.val(),
                'size': $dog_size.val()
            };

            console.log(dog_form);

            $.ajax({
                type: "POST",
                url: 'http://localhost:8080/dog/registration',
                data: new FormData(this),
                // contentType: 'application/json',
                cache: false,
                contentType: false,
                processData: false,
                success: function (data) {
                    console.log("A new dog");
                    console.log(data);
                },
                error: function (data) {
                    console.log("error");
                    console.log(data);

                }
            });

        });

        //});
    });
</script>